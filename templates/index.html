<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classroom Phone Detection System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-icon">üì±</div>
            <h1>CLASSROOM PHONE DETECTION SYSTEM</h1>
            <div style="margin-top:15px; display:flex; gap:15px; justify-content:center;">
                <button class="browse-btn" onclick="window.location.href='/report'">üìÑ REPORTS</button>
                <button class="browse-btn" onclick="window.location.href='/chat'">ü§ñ CHAT AI</button>
            </div>

        </header>

        <div class="main-content">
            <!-- Left Panel - Controls -->
            <div class="control-panel">
                <!-- Source Type Tabs -->
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="camera">
                        <span class="tab-icon">üìπ</span> LIVE CAMERA
                    </button>
                    <button class="tab-btn" data-tab="video">
                        <span class="tab-icon">üìÅ</span> VIDEO FILE
                    </button>
                </div>

                <!-- Camera Tab Content -->
                <div id="camera-tab" class="tab-content active">
                    <div class="input-section">
                        <label>Camera ID:</label>
                        <div class="input-with-icon">
                            <input type="number" id="camera-id" value="0" min="0">
                        </div>
                    </div>
                </div>

                <!-- Video Tab Content -->
                <div id="video-tab" class="tab-content">
                    <div class="input-section">
                        <label>Video Path:</label>
                        <div class="input-group">
                            <input type="text" id="video-path" placeholder="Select video file..." readonly>
                            <button class="browse-btn" onclick="document.getElementById('video-file-input').click()">BROWSE</button>
                        </div>
                        <input type="file" id="video-file-input" accept="video/*" style="display: none;">
                    </div>

                    <div class="input-section">
                        <label>Output Path:</label>
                        <div class="input-group">
                            <input type="text" id="output-path" placeholder="Optional: Save output video..." readonly>
                            <button class="browse-btn" onclick="selectOutputPath()">BROWSE</button>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="start-btn" class="action-btn start-btn">
                        <span class="btn-icon">‚ñ∂</span>
                        <span class="btn-text">START<br>DETECTION</span>
                    </button>
                    <button id="stop-btn" class="action-btn stop-btn" disabled>
                        <span class="btn-icon">‚èπ</span>
                        <span class="btn-text">STOP<br>DETECTION</span>
                    </button>
                </div>

                <!-- Stats Cards -->
                <div class="stats-container">
                    <div class="stat-card phone-stat">
                        <div class="stat-icon">üì±</div>
                        <div class="stat-info">
                            <div class="stat-label">PHONES DETECTED:</div>
                            <div id="phone-count" class="stat-value">0</div>
                        </div>
                    </div>
                    <div class="stat-card status-stat">
                        <div class="stat-icon">üü¢</div>
                        <div class="stat-info">
                            <div class="stat-label">STATUS:</div>
                            <div id="status" class="stat-value">IDLE</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Video Feed -->
            <div class="video-panel">
                <div class="video-container">
                    <div class="placeholder">
                        <div class="placeholder-icon">üé•</div>
                        <p>Select source & click 'Start Detection'</p>
                    </div>
                    <img id="video-feed" style="display: none;">
                </div>
            </div>
        </div>
    </div>

    <!-- Alert Banner (hidden by default) -->
    <div id="alert-banner" class="alert-banner">
        <span class="alert-icon">‚ö†Ô∏è</span>
        <span id="alert-text">PHONE DETECTED!</span>
    </div>

    <!-- Audio element for alert sound -->
    <audio id="alert-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTcIGWi77eeeTRAMUKfj8LZjHAY4ktfyzHksBSR3x/DdkEAKFF206+uoVRQKRp/g8r5sIQUrg87y2Yk3CBlou+3nnk0QDFCn4/C2YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4PO8tmJNwgZaLvt555NEAxQp+PwtmIcBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuDzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrg87y2Ik3CBlou+3nnk0QDE+n4/C3YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4LO8tmJNwgZaLvt555NEAxPp+Pwt2McBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuCzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrgc7y2Yk3CBlou+3nnk0QDE+n4/C3YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4HO8tmJNwgZaLvt555NEAxPp+Pwt2McBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuBzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrgs7y2Ik3CBlou+3nnk0QDE+n4/C3YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4LO8tmJNwgZaLvt555NEAxPp+Pwt2McBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuDzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrgs7y2Ik3CBlouv3nnk0QDE+n4/C3YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4PO8tmJNwgZaLvt555NEAxPp+Pwt2McBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuDzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrg87y2Yk3CBlou+3nnk0QDE+n4/C3YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4PO8tmJNwgZaLvt555NEAxPp+Pwt2McBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuDzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrg87y2Yk3CBlou+3nnk0QDE+n4/C3YxwGOJLX8sx5LAUkd8fw3ZBBChRdtOvrqFUUCkaf4PK+bCEFK4PO8tmJNwgZaLvt555NEAxPp+Pwt2McBjiS1/LMeSwFJHfH8N2QQQoUXbTr66hVFApGn+DyvmwhBSuDzvLZiTcIGWi77eeeTRAMT6fj8LdjHAY4ktfyzHksBSR3x/DdkEEKFF206+uoVRQKRp/g8r5sIQUrg87y2Yk3CBlo" type="audio/wav">
    </audio>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>